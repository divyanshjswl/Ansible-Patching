<h2 style="text-align:center; color:#2F4F4F;">
    Patching Report - {{ inventory_hostname }}
</h2>

<table style="width:70%; margin:20px auto; border-collapse:collapse; font-family:Arial, sans-serif; box-shadow:0 2px 8px rgba(0,0,0,0.1);">

    <thead>
        <tr style="background-color:#2F4F4F; color:white;">
            <th style="padding:12px; border:1px solid #ddd;">Parameter</th>
            <th style="padding:12px; border:1px solid #ddd;">Details</th>
        </tr>
    </thead>

    <tbody>

        <tr style="background-color:#f9f9f9;">
            <td style="padding:10px; border:1px solid #ddd;"><strong>Kernel Before Patching</strong></td>
            <td style="padding:10px; border:1px solid #ddd;">{{ kernel_version_before_patching.stdout }}</td>
        </tr>

        <tr>
            <td style="padding:10px; border:1px solid #ddd;"><strong>Kernel After Patching</strong></td>
            <td style="padding:10px; border:1px solid #ddd;">{{ kernel_version_after_patching.stdout }}</td>
        </tr>

        <tr style="background-color:#f9f9f9;">
            <td style="padding:10px; border:1px solid #ddd;"><strong>Uptime Before Patching</strong></td>
            <td style="padding:10px; border:1px solid #ddd;">{{ uptime_info_before_patching.stdout }}</td>
        </tr>

        <tr>
            <td style="padding:10px; border:1px solid #ddd;"><strong>Uptime After Patching</strong></td>
            <td style="padding:10px; border:1px solid #ddd;">{{ uptime_info_after_patching.stdout }}</td>
        </tr>

        <tr style="background-color:#f9f9f9;">
            <td style="padding:10px; border:1px solid #ddd;"><strong>Reboot Required</strong></td>
            <td style="padding:10px; border:1px solid #ddd; text-align:center;">
                {% if patch_reboot_required %}
                    <span style="color:white; background-color:#d9534f; padding:6px 12px; border-radius:12px;">
                        YES
                    </span>
                {% else %}
                    <span style="color:white; background-color:#5cb85c; padding:6px 12px; border-radius:12px;">
                        NO
                    </span>
                {% endif %}
            </td>
        </tr>

    </tbody>
</table>